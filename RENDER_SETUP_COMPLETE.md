# ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Render –¥–ª—è rollix-delivery - –í—ã–ø–æ–ª–Ω–µ–Ω–æ

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–¥
- –£–¥–∞–ª—ë–Ω –ø—Ä–æ–±–ª–µ–º–Ω—ã–π —Ñ–∞–π–ª `prisma.config.ts`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ Prisma (—É–±—Ä–∞–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ —É–∫–∞–∑–∞—Ç—å URL –≤ —Å—Ö–µ–º–µ –¥–ª—è Prisma 7)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω SMS.RU API (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è GET-–∑–∞–ø—Ä–æ—Å—ã –≤–º–µ—Å—Ç–æ POST)
- –û–±–Ω–æ–≤–ª—ë–Ω —Å–∫—Ä–∏–ø—Ç `setup-db.ts` –¥–ª—è –ª—É—á—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### 2. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è
- –°–æ–∑–¥–∞–Ω SQL —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏: `prisma/migrations/add_sms_codes.sql`
- –ú–æ–¥–µ–ª—å `SmsCode` —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å—Ö–µ–º–µ Prisma

### 3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã
- –î–æ–±–∞–≤–ª–µ–Ω `render:build` —Å–∫—Ä–∏–ø—Ç —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –≤ `package.json`
- –û–±–Ω–æ–≤–ª—ë–Ω `scripts/setup-db.ts`

### 4. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ì–æ—Ç–æ–≤–æ –∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –¥–µ–ø–ª–æ—é –Ω–∞ Render

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –Ω–∞ Render:

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å Build –∫–æ–º–∞–Ω–¥—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard: https://dashboard.render.com/web/srv-d4mqj16mcj7s73cgv21g
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Build Command
3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –Ω–∞:

```bash
npm install --production=false && npx prisma generate --schema=prisma/schema.prisma && npx prisma db push --accept-data-loss && npm run build
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- `DATABASE_URL` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- `SMS_RU_API_KEY` - API –∫–ª—é—á SMS.RU (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å: `66CCA90D-74B8-6CCB-30C5-05A1D6661AE6`)

### –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –¥–µ–ø–ª–æ–µ)**
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è build –∫–æ–º–∞–Ω–¥—ã, –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Render Shell**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard ‚Üí –í–∞—à —Å–µ—Ä–≤–∏—Å ‚Üí Shell
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
npx prisma db push --accept-data-loss
```

**–í–∞—Ä–∏–∞–Ω—Ç –í: –ß–µ—Ä–µ–∑ SQL –∑–∞–ø—Ä–æ—Å**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `rollix-db` ‚Üí Query
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ —Ñ–∞–π–ª–∞ `prisma/migrations/add_sms_codes.sql`:

```sql
CREATE TABLE IF NOT EXISTS "sms_codes" (
    "id" TEXT NOT NULL,
    "phone" TEXT NOT NULL,
    "code" TEXT NOT NULL,
    "expiresAt" TIMESTAMP(3) NOT NULL,
    "verified" BOOLEAN NOT NULL DEFAULT false,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT "sms_codes_pkey" PRIMARY KEY ("id")
);

CREATE INDEX IF NOT EXISTS "sms_codes_phone_code_idx" ON "sms_codes"("phone", "code");
CREATE INDEX IF NOT EXISTS "sms_codes_expiresAt_idx" ON "sms_codes"("expiresAt");
```

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ Render Dashboard
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É SMS –∫–æ–¥–æ–≤ –Ω–∞ https://rollix-delivery.onrender.com

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- **Dashboard —Å–µ—Ä–≤–∏—Å–∞**: https://dashboard.render.com/web/srv-d4mqj16mcj7s73cgv21g
- **URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: https://rollix-delivery.onrender.com
- **Dashboard –ë–î**: https://dashboard.render.com/d/dpg-d4mqip8dl3ps73e9vpv0-a
- **SSH –¥–æ—Å—Ç—É–ø**: `ssh srv-d4mqj16mcj7s73cgv21g@ssh.oregon.render.com`

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
2. ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `sms_codes` —Å–æ–∑–¥–∞–Ω–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. ‚úÖ SMS API —Ä–∞–±–æ—Ç–∞–µ—Ç (–º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

---

**–ì–æ—Ç–æ–≤–æ! –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –¥–µ–ø–ª–æ—é.** üöÄ

