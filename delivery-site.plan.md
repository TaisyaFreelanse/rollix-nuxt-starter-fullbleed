# План разработки сайта доставки еды

## 1. Подготовка и настройка проекта

### 1.1 Обновление зависимостей и структуры

- [x] Установка дополнительных пакетов: Pinia (state management), VueUse, Headless UI
- [x] Настройка TypeScript конфигурации
- [x] Добавление ESLint/Prettier для code quality
- [x] Настройка environment переменных

### 1.2 Структура базы данных

- [x] Создание схемы БД: пользователи, товары, категории, заказы, промокоды, зоны доставки
- [x] Настройка ORM (Prisma/Drizzle) для работы с БД
- [x] Создание миграций и seed данных

## 2. Frontend - Основной функционал

### 2.1 Каталог товаров (по образцу Yakitoriya)

**Файлы:** [`pages/catalog.vue`](pages/catalog.vue), [`components/ProductCard.vue`](components/ProductCard.vue), [`components/ProductModal.vue`](components/ProductModal.vue), [`components/SidebarMenu.vue`](components/SidebarMenu.vue)

- [x] Боковое меню категорий с иконками (как на Yakitoriya)
- [x] Система фильтров и сортировки
- [x] Карточки товаров с hover-эффектами и анимациями
- [x] Модальные окна товаров с модификаторами (соусы, палочки, васаби)
- [x] Lazy loading изображений и виртуализация списков
- [x] Адаптивный дизайн для мобильных устройств

### 2.2 Корзина и оформление заказа

**Файлы:** [`pages/cart.vue`](pages/cart.vue), `components/CartItem.vue`, `pages/checkout.vue`

- [x] Корзина с расчетом стоимости и модификаторами
- [x] Система промокодов с валидацией
- [x] Выбор способа доставки/самовывоза
- [x] Интерактивная карта зон доставки
- [x] Выбор времени доставки с учетом загруженности кухни
- [x] Интеграция онлайн-оплаты (ЮKassa/Сбербанк) - заглушка
- [x] Быстрая регистрация через SMS

### 2.3 Пользовательский интерфейс

**Файлы:** [`components/HeaderBar.vue`](components/HeaderBar.vue), [`components/MobileSidebar.vue`](components/MobileSidebar.vue)

- [x] Фиксированная шапка с анимациями
- [x] Мобильное меню-сайдбар
- [x] Индикатор корзины с анимацией
- [x] Система уведомлений (toast)
- [x] Модальные окна и overlay компоненты

## 3. Личный кабинет пользователя

### 3.1 Функционал профиля

**Файлы:** `pages/profile/`, `components/Profile/`

- [x] Управление адресами доставки
- [x] История заказов с возможностью повтора
- [x] Избранные товары
- [x] Статусы заказов в реальном времени
- [x] Бонусная программа и баланс бонусов

## 4. Backend API и интеграции

### 4.1 Nuxt Server API

**Файлы:** `server/api/`

- [x] CRUD операции для товаров, категорий, заказов
- [x] Аутентификация и авторизация пользователей
- [x] Система промокодов и скидок
- [x] Расчет стоимости доставки по зонам
- [x] WebSocket для статусов заказов

### 4.2 Интеграция с АЙКО

**Файлы:** `server/api/aiko/`, `composables/useAiko.ts`

- [x] Синхронизация меню и цен (заглушка)
- [x] Отправка заказов в АЙКО (заглушка)
- [x] Получение статусов заказов (заглушка)
- [x] Обработка ошибок интеграции

### 4.3 Платежная система

**Файлы:** `server/api/payments/`

- [x] Интеграция с ЮKassa/Сбербанк (заглушка)
- [x] Обработка webhook'ов платежей (заглушка)
- [x] Возвраты и отмены платежей (заглушка)

## 5. Админ-панель

### 5.1 Управление контентом

**Файлы:** `pages/admin/`, `components/Admin/`

- [x] CRUD товаров и категорий
- [x] Управление ценами и акциями
- [x] Редактор промокодов
- [x] Управление баннерами главной страницы (заглушка)
- [x] Настройка зон доставки и тарифов

### 5.2 Управление заказами

- [x] Список всех заказов с фильтрацией
- [x] Изменение статусов заказов
- [x] Управление временем готовности при загруженности
- [x] Система технических работ (отключение приема заказов)

## 6. Анимации и UX

### 6.1 Микроанимации

**Файлы:** `assets/css/animations.css`, `composables/useAnimations.ts`

- [x] Hover-эффекты для карточек товаров
- [x] Анимации добавления в корзину
- [x] Плавные переходы между страницами
- [x] Loading состояния и скелетоны
- [x] Анимации модальных окон

### 6.2 Адаптивность

- [x] Мобильная версия с touch-жестами
- [x] Оптимизация для планшетов
- [x] Поддержка различных разрешений экранов

## 7. Оптимизация и деплой

### 7.1 Производительность

- Оптимизация изображений (WebP, lazy loading)
- Code splitting и tree shaking
- Кэширование API запросов
- SEO оптимизация

### 7.2 Мониторинг и аналитика

- Интеграция с Яндекс.Метрикой/Google Analytics
- Система логирования ошибок
- Мониторинг производительности

## Технический стек:

- **Frontend:** Nuxt 3, Vue 3, TypeScript, Tailwind CSS, Pinia
- **Backend:** Nuxt Server API, Prisma ORM
- **База данных:** PostgreSQL (рекомендуется)
- **Платежи:** ЮKassa API
- **Карты:** Яндекс.Карты API
- **Деплой:** Vercel/Netlify или VPS

## Временные рамки:

- **Фаза 1** (2-3 недели): Каталог, корзина, базовый функционал
- **Фаза 2** (2 недели): Личный кабинет, оформление заказов
- **Фаза 3** (1-2 недели): Админ-панель
- **Фаза 4** (1 неделя): Интеграции (АЙКО, платежи)
- **Фаза 5** (1 неделя): Тестирование, оптимизация, деплой