# План разработки сайта доставки еды

## 1. Подготовка и настройка проекта

### 1.1 Обновление зависимостей и структуры

- [x] Установка дополнительных пакетов: Pinia (state management), VueUse, Headless UI
- [x] Настройка TypeScript конфигурации
- [x] Добавление ESLint/Prettier для code quality
- [x] Настройка environment переменных

### 1.2 Структура базы данных

- [x] Создание схемы БД: пользователи, товары, категории, заказы, промокоды, зоны доставки
- [x] Настройка ORM (Prisma/Drizzle) для работы с БД
- [x] Создание миграций и seed данных

## 2. Frontend - Основной функционал

### 2.1 Каталог товаров (по образцу Yakitoriya)

**Файлы:** [`pages/catalog.vue`](pages/catalog.vue), [`components/ProductCard.vue`](components/ProductCard.vue), [`components/ProductModal.vue`](components/ProductModal.vue), [`components/SidebarMenu.vue`](components/SidebarMenu.vue)

- [x] Боковое меню категорий с иконками (как на Yakitoriya)
- [x] Система фильтров и сортировки
- [x] Карточки товаров с hover-эффектами и анимациями
- [x] Модальные окна товаров с модификаторами (соусы, палочки, васаби)
- [x] Lazy loading изображений и виртуализация списков
- [x] Адаптивный дизайн для мобильных устройств

### 2.2 Корзина и оформление заказа

**Файлы:** [`pages/cart.vue`](pages/cart.vue), `components/CartItem.vue`, `pages/checkout.vue`

- Корзина с расчетом стоимости и модификаторами
- Система промокодов с валидацией
- Выбор способа доставки/самовывоза
- Интерактивная карта зон доставки
- Выбор времени доставки с учетом загруженности кухни
- Интеграция онлайн-оплаты (ЮKassa/Сбербанк)
- Быстрая регистрация через SMS

### 2.3 Пользовательский интерфейс

**Файлы:** [`components/HeaderBar.vue`](components/HeaderBar.vue), [`components/MobileSidebar.vue`](components/MobileSidebar.vue)

- Фиксированная шапка с анимациями
- Мобильное меню-сайдбар
- Индикатор корзины с анимацией
- Система уведомлений (toast)
- Модальные окна и overlay компоненты

## 3. Личный кабинет пользователя

### 3.1 Функционал профиля

**Файлы:** `pages/profile/`, `components/Profile/`

- Управление адресами доставки
- История заказов с возможностью повтора
- Избранные товары
- Статусы заказов в реальном времени
- Бонусная программа и баланс бонусов

## 4. Backend API и интеграции

### 4.1 Nuxt Server API

**Файлы:** `server/api/`

- CRUD операции для товаров, категорий, заказов
- Аутентификация и авторизация пользователей
- Система промокодов и скидок
- Расчет стоимости доставки по зонам
- WebSocket для статусов заказов

### 4.2 Интеграция с АЙКО

**Файлы:** `server/api/aiko/`, `composables/useAiko.ts`

- Синхронизация меню и цен
- Отправка заказов в АЙКО
- Получение статусов заказов
- Обработка ошибок интеграции

### 4.3 Платежная система

**Файлы:** `server/api/payments/`

- Интеграция с ЮKassa/Сбербанк
- Обработка webhook'ов платежей
- Возвраты и отмены платежей

## 5. Админ-панель

### 5.1 Управление контентом

**Файлы:** `pages/admin/`, `components/Admin/`

- CRUD товаров и категорий
- Управление ценами и акциями
- Редактор промокодов
- Управление баннерами главной страницы
- Настройка зон доставки и тарифов

### 5.2 Управление заказами

- Список всех заказов с фильтрацией
- Изменение статусов заказов
- Управление временем готовности при загруженности
- Система технических работ (отключение приема заказов)

## 6. Анимации и UX

### 6.1 Микроанимации

**Файлы:** `assets/css/animations.css`, `composables/useAnimations.ts`

- Hover-эффекты для карточек товаров
- Анимации добавления в корзину
- Плавные переходы между страницами
- Loading состояния и скелетоны
- Анимации модальных окон

### 6.2 Адаптивность

- Мобильная версия с touch-жестами
- Оптимизация для планшетов
- Поддержка различных разрешений экранов

## 7. Оптимизация и деплой

### 7.1 Производительность

- Оптимизация изображений (WebP, lazy loading)
- Code splitting и tree shaking
- Кэширование API запросов
- SEO оптимизация

### 7.2 Мониторинг и аналитика

- Интеграция с Яндекс.Метрикой/Google Analytics
- Система логирования ошибок
- Мониторинг производительности

## Технический стек:

- **Frontend:** Nuxt 3, Vue 3, TypeScript, Tailwind CSS, Pinia
- **Backend:** Nuxt Server API, Prisma ORM
- **База данных:** PostgreSQL (рекомендуется)
- **Платежи:** ЮKassa API
- **Карты:** Яндекс.Карты API
- **Деплой:** Vercel/Netlify или VPS

## Временные рамки:

- **Фаза 1** (2-3 недели): Каталог, корзина, базовый функционал
- **Фаза 2** (2 недели): Личный кабинет, оформление заказов
- **Фаза 3** (1-2 недели): Админ-панель
- **Фаза 4** (1 неделя): Интеграции (АЙКО, платежи)
- **Фаза 5** (1 неделя): Тестирование, оптимизация, деплой