# –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ Render

## ‚úÖ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### 1. ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: `Cannot read properties of undefined (reading 'map')`

**–û—à–∏–±–∫–∞:**
```
[–ê–ô–ö–û] ‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞: Cannot read properties of undefined (reading 'map')
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–í `server/api/orders/index.post.ts` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–∞ –≤ iikoCloud –∫–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å `item.modifiers.map()`, –Ω–æ `modifiers` –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ –∑–∞–ø—Ä–æ—Å Prisma, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ `undefined`.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ `modifiers: true` –≤ `include` –¥–ª—è `order.items`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `(item.modifiers || [])` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `.map()`

**–§–∞–π–ª:** `server/api/orders/index.post.ts`

### 2. ‚ö†Ô∏è –û—à–∏–±–∫–∏ SMS (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–û—à–∏–±–∫–∞:**
```
[SMS] –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ SMS.RU: Error: –ù–∞ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä –Ω–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–ü—Ä–æ–±–ª–µ–º–∞ —Å SMS.RU API - –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –∏–º–µ–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏.

**–°—Ç–∞—Ç—É—Å:** –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

### 3. ‚ö†Ô∏è –û—à–∏–±–∫–∏ iikoCloud (–æ–∂–∏–¥–∞–µ–º–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤)

**–û—à–∏–±–∫–∞:**
```
"creationStatus": "Error",
"message": "Creation timeout expired, order automatically transited to error creation status"
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ–π –∫–∞—Å—Å–æ–π iiko, –ø–æ—ç—Ç–æ–º—É –∏—Å—Ç–µ–∫–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞.

**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ–º–æ. –î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ —á–µ—Ä–µ–∑ –∫–∞—Å—Å—É iiko —ç—Ç–∞ –æ—à–∏–±–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å.

### 4. ‚ö†Ô∏è –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∫–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–û—à–∏–±–∫–∏:**
- `This is a user token, not an admin token`
- `–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å`

**–ü—Ä–∏—á–∏–Ω–∞:**
–ü–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–ª–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–°—Ç–∞—Ç—É—Å:** –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

1. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
   - `[–ê–ô–ö–û] ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: 3 –∑–∞–∫–∞–∑–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ, 0 –æ–±–Ω–æ–≤–ª–µ–Ω–æ`

2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ iikoCloud:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
   - `[iikoCloud] ‚úÖ –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω–æ, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 1 —á–∞—Å`

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
   - `[iikoCloud] ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞: New`

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞** —Å `modifiers.map()` - —Ç–µ–ø–µ—Ä—å –∑–∞–∫–∞–∑—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ iikoCloud –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π –∫–∞—Å—Å–æ–π iiko:**
   - –û—à–∏–±–∫–∏ `Creation timeout expired` –∏—Å—á–µ–∑–Ω—É—Ç –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π –∫–∞—Å—Å–æ–π
   - –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ë–æ–Ω—É—Å—ã –±—É–¥—É—Ç –Ω–∞—á–∏—Å–ª—è—Ç—å—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ –∑–∞–∫–∞–∑–æ–≤

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–∫–∏ `Cannot read properties of undefined (reading 'map')`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–∫–∞–∑—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ iikoCloud

## üéØ –ò—Ç–æ–≥

- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚ö†Ô∏è –û—Å—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –∏–ª–∏ –æ–∂–∏–¥–∞–µ–º—ã
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å —Ä–µ–∞–ª—å–Ω–æ–π –∫–∞—Å—Å–æ–π iiko

