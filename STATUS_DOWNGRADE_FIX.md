# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∫–∞—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

### –ß—Ç–æ –±—ã–ª–æ:
- –ó–∞–∫–∞–∑ –≤ —Å—Ç–∞—Ç—É—Å–µ `READY` –æ—Ç–∫–∞—Ç—ã–≤–∞–ª—Å—è –Ω–∞ `PENDING` –∏–∑-–∑–∞ —Ç–∞–π–º–∞—É—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤ iikoCloud
- –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª—è–ª–∞ —Å—Ç–∞—Ç—É—Å –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–∫–∞—Ç–æ–º –Ω–∞–∑–∞–¥
- –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏: `[–ê–ô–ö–û] ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω: READY ‚Üí PENDING`

### –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç–∫–∞—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞**:
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ —Å—Ç–∞—Ç—É—Å–æ–≤: `PENDING < CONFIRMED < PREPARING < READY < DELIVERING < DELIVERED`
   - –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å >= —Ç–µ–∫—É—â–µ–≥–æ
   - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: `CANCELLED` –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã**:
   - `server/api/orders/[id]/sync-status.post.ts` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
   - `server/api/aiko/sync-orders-status.post.ts` - –º–∞—Å—Å–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ—Ç–∫–∞—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
   - `[–ê–ô–ö–û] ‚ö†Ô∏è  –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω (–æ—Ç–∫–∞—Ç –Ω–∞–∑–∞–¥ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω): READY ‚Üí PENDING`

## üìä –ü–æ—Ä—è–¥–æ–∫ —Å—Ç–∞—Ç—É—Å–æ–≤

```typescript
const statusOrder = {
  'PENDING': 1,      // –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
  'CONFIRMED': 2,    // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω
  'PREPARING': 3,    // –ì–æ—Ç–æ–≤–∏—Ç—Å—è
  'READY': 4,        // –ì–æ—Ç–æ–≤
  'DELIVERING': 5,   // –í –¥–æ—Å—Ç–∞–≤–∫–µ
  'DELIVERED': 6,    // –î–æ—Å—Ç–∞–≤–ª–µ–Ω
  'CANCELLED': 99    // –û—Ç–º–µ–Ω–µ–Ω (–º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç)
}
```

## üéØ –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:
- ‚úÖ `PENDING` ‚Üí `CONFIRMED` ‚Üí `PREPARING` ‚Üí `READY` ‚Üí `DELIVERING` ‚Üí `DELIVERED`
- ‚úÖ –õ—é–±–æ–π —Å—Ç–∞—Ç—É—Å ‚Üí `CANCELLED` (–æ—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞)

### –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:
- ‚ùå `READY` ‚Üí `PENDING` (–æ—Ç–∫–∞—Ç –Ω–∞–∑–∞–¥)
- ‚ùå `DELIVERING` ‚Üí `CONFIRMED` (–æ—Ç–∫–∞—Ç –Ω–∞–∑–∞–¥)
- ‚ùå `DELIVERED` ‚Üí –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Å—Ç–∞—Ç—É—Å (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å)

### –û—Å–æ–±—ã–π —Å–ª—É—á–∞–π - —Ç–∞–π–º–∞—É—Ç—ã iikoCloud:
- –ö–æ–≥–¥–∞ –∑–∞–∫–∞–∑ –ø–æ–ª—É—á–∞–µ—Ç `creationStatus: "Error"` —Å —Ç–∞–π–º–∞—É—Ç–æ–º
- –°–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `New` (PENDING)
- –ù–æ –µ—Å–ª–∏ –∑–∞–∫–∞–∑ —É–∂–µ –≤ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º —Å—Ç–∞—Ç—É—Å–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, READY)
- –°—Ç–∞—Ç—É—Å **–Ω–µ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è** –Ω–∞–∑–∞–¥, –æ—Å—Ç–∞–µ—Ç—Å—è READY

## ‚úÖ –ò—Ç–æ–≥

**–û—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!**

- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –Ω–µ –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞–∑–∞–¥
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤ iikoCloud
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –ª–æ–≥–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π –∫–∞—Å—Å–æ–π iiko

